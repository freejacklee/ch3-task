---
name: gratitude-100days-cog
description: Cognitive model defining core entities and relationships for Gratitude to Parents 100 Days
---

# 认知模型 (Cog)

<cog>
本系统包括以下关键实体：
- User：用户，执行记录行为的主体
- Entry：记录，用户每天填写的感恩内容
- Progress：进度，用户已坚持的天数
- Parents：父母，记录行为指向的对象
</cog>

<User>
- 唯一编码：浏览器localStorage中的唯一会话（无需注册，基于浏览器本地存储）
- 常见分类：新用户（第1天）；坚持中用户（2-99天）；完成用户（100天）
- 核心属性：无需个人信息，仅通过本地存储识别
- 行为特征：每天打开页面、填写记录、查看进度、导出记录
</User>

<Entry>
- 唯一编码：按照记录日期编码，格式为YYYY-MM-DD
- 常见分类：文字记录；情绪标记（可选：开心、感动、平静、反思）
- 核心属性：日期（date）、内容（content）、情绪（emotion，可选）、创建时间（timestamp）
- 数据结构：
  {
    date: "YYYY-MM-DD",
    content: "今天和妈妈通了电话...",
    emotion: "感动",
    timestamp: 1234567890
  }
</Entry>

<Progress>
- 唯一编码：基于用户的记录总数和连续天数计算
- 常见分类：初始阶段（1-7天）；习惯养成期（8-30天）；稳定期（31-70天）；冲刺期（71-100天）
- 核心属性：总天数（totalDays）、连续天数（streakDays）、完成百分比（percentage）
- 计算逻辑：
  - totalDays = 已记录的总天数
  - streakDays = 从最近一天往前推的连续记录天数
  - percentage = (totalDays / 100) * 100
</Progress>

<Parents>
- 唯一编码：无需编码，作为语义背景存在
- 常见分类：父亲；母亲；父母双方
- 核心属性：作为记录内容的指向对象，提供情感上下文
- 语义作用：为记录内容提供意义，影响用户的内在动机
</Parents>

<rel>
- User-Entry：一对多（一个用户可创建多个记录，最多100个）
- User-Progress：一对一（一个用户对应一个进度状态）
- Entry-Parents：多对一（多个记录都指向父母这个语义对象）
- Progress-Entry：一对多（进度基于所有记录计算得出）
</rel>

<context>

业务上下文：
本产品旨在帮助用户建立持续表达感恩的习惯，促进更稳定、更柔软的亲子关系。核心理念是"轻量、纯文本、无负担"，通过极简的网页界面降低使用门槛，让用户每天花1分钟坚持完成记录。

用户上下文：
目标用户为25-45岁的普通成年人，他们可能因为工作忙碌、生活压力而疏于与父母沟通。他们需要一个简单的工具来提醒自己关注父母、记录感恩时刻，但不希望被复杂的功能或注册流程打扰。

技术上下文：
产品采用纯前端技术，使用localStorage进行本地存储，无需后端服务器。这种设计确保了用户数据的隐私性，同时降低了开发和维护成本。产品必须在7天内完成MVP，因此技术选型必须简单、可靠、易于实现。

</context>

<scenario name="daily-record">
用户场景：每日记录
- 触发条件：用户打开网页
- 用户行为：查看今天是否已记录 → 点击"今日记录"按钮 → 填写感恩内容 → 选择情绪（可选）→ 点击"保存"
- 系统反馈：保存成功提示 → 更新进度显示 → 显示连续天数
- 预期结果：用户完成今日记录，进度+1
</scenario>

<scenario name="view-progress">
用户场景：查看进度
- 触发条件：用户打开网页或完成记录后
- 用户行为：查看进度条 → 查看已坚持天数 → 查看连续天数
- 系统反馈：显示进度百分比 → 显示鼓励文案（如"已坚持30天，继续加油！"）
- 预期结果：用户获得正向反馈，增强坚持动力
</scenario>

<scenario name="review-history">
用户场景：回顾历史记录
- 触发条件：用户想要查看过去的记录
- 用户行为：点击"历史记录"按钮 → 浏览过去的记录列表 → 点击某条记录查看详情
- 系统反馈：显示按日期倒序排列的记录列表 → 显示每条记录的日期、内容摘要、情绪标记
- 预期结果：用户回顾过去的感恩时刻，增强情感连接
</scenario>

<scenario name="export-data">
用户场景：导出记录
- 触发条件：用户想要备份或分享记录
- 用户行为：点击"导出记录"按钮 → 选择导出格式（文本/JSON）
- 系统反馈：生成导出文件 → 触发浏览器下载
- 预期结果：用户获得完整的记录备份文件
</scenario>

<information-flow>
1. 用户输入 → Entry（记录）
2. Entry（记录）→ localStorage（本地存储）
3. localStorage（本地存储）→ Progress（进度计算）
4. Progress（进度）→ 用户界面（进度展示）
5. localStorage（本地存储）→ 历史记录列表（回顾功能）
6. localStorage（本地存储）→ 导出文件（备份功能）
</information-flow>
